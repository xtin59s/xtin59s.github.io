Recorder.prototype.enc_pcm={stable:!0,testmsg:"pcm为未封装的原始音频数据，pcm数据文件无法直接播放；支持位数8位、16位（填在比特率里面），采样率取值无限制"},Recorder.prototype.pcm=function(e,t,r){var a=this.set,n=e.length,a=8==a.bitRate?8:16,o=new ArrayBuffer(n*(a/8)),p=new DataView(o),c=0;if(8==a)for(var l=0;l<n;l++,c++){var s=128+(e[l]>>8);p.setInt8(c,s,!0)}else for(l=0;l<n;l++,c+=2)p.setInt16(c,e[l],!0);t(new Blob([p.buffer],{type:"audio/pcm"}))},Recorder.pcm2wav=function(e,a,n){var o,p=(e=e.slice&&null!=e.type?{blob:e}:e).sampleRate||16e3,c=e.bitRate||16;e.sampleRate&&e.bitRate||console.warn("pcm2wav必须提供sampleRate和bitRate"),Recorder.prototype.wav?((o=new FileReader).onloadend=function(){if(8==c)for(var e=new Uint8Array(o.result),t=new Int16Array(e.length),r=0;r<e.length;r++)t[r]=e[r]-128<<8;else t=new Int16Array(o.result);Recorder({type:"wav",sampleRate:p,bitRate:c}).mock(t,p).stop(function(e,t){a(e,t)},n)},o.readAsArrayBuffer(e.blob)):n("pcm2wav必须先加载wav编码器wav.js")};