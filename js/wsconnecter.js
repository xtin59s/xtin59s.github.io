function WebSocketConnectMethod(e){var t,o=e.msgHandle,s=e.stateHandle;this.wsStart=function(){var e=document.getElementById("wssip").value;return e.match(/wss:\S*|ws:\S*/)?(console.log("Uri"+e),"WebSocket"in window?((t=new WebSocket(e)).onopen=function(e){var o={chunk_size:new Array(5,10,5),wav_name:"h5",is_speaking:!0,chunk_interval:10,itn:getUseITN(),mode:getAsrMode()},n=(isfilemode&&"wav"==(o.wav_format=file_ext)&&(o.wav_format="PCM",o.audio_fs=file_sample_rate),getHotwords());null!=n&&(o.hotwords=n),console.log(JSON.stringify(o)),t.send(JSON.stringify(o)),console.log("连接成功"),s(0)},t.onclose=function(e){console.log("onclose ws!"),s(1)},t.onmessage=function(e){o(e)},t.onerror=function(e){e=e,info_div.innerHTML="连接"+e,console.log(e),s(2)},1):(alert("当前浏览器不支持 WebSocket"),0)):(alert("请检查wss地址正确性"),0)},this.wsStop=function(){null!=t&&(console.log("stop ws!"),t.close())},this.wsSend=function(e){null!=t&&1===t.readyState&&t.send(e)}}